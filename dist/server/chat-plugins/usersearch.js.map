{
  "version": 3,
  "sources": ["../../../server/chat-plugins/usersearch.tsx"],
  "sourcesContent": ["import { Utils, FS } from '../../lib';\n\nexport const nameList = new Set<string>(JSON.parse(\n\tFS('config/chat-plugins/usersearch.json').readIfExistsSync() || \"[]\"\n));\n\nconst ONLINE_SYMBOL = ` \\u25C9 `;\nconst OFFLINE_SYMBOL = ` \\u25CC `;\n\nclass PunishmentHTML extends Chat.JSX.Component<{ userid: ID, target: string }> {\n\trender() {\n\t\tconst { userid, target } = { ...this.props };\n\t\tconst buf = [];\n\t\tfor (const cmdName of ['Forcerename', 'Namelock', 'Weeknamelock']) {\n\t\t\t// We have to use dangerouslySetInnerHTML here because otherwise the `value`\n\t\t\t// property of the button tag is auto escaped, making &#10; into &amp;#10;\n\t\t\tbuf.push(<span\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: `<button class=\"button\" name=\"send\" value=\"/msgroom staff,/${toID(cmdName)} ${userid}` +\n\t\t\t\t\t\t`&#10;/uspage ${target}\">${cmdName}</button>`,\n\t\t\t\t}}\n\t\t\t/>);\n\t\t}\n\t\treturn buf;\n\t}\n}\n\nclass SearchUsernames extends Chat.JSX.Component<{ target: string, page?: boolean }> {\n\trender() {\n\t\tconst { target, page } = { ...this.props };\n\t\tconst results: { offline: string[], online: string[] } = {\n\t\t\toffline: [],\n\t\t\tonline: [],\n\t\t};\n\t\tfor (const curUser of Users.users.values()) {\n\t\t\tif (!curUser.id.includes(target) || curUser.id.startsWith('guest')) continue;\n\t\t\tif (Punishments.isGlobalBanned(curUser)) continue;\n\t\t\tif (curUser.connected) {\n\t\t\t\tresults.online.push(`${!page ? ONLINE_SYMBOL : ''} ${curUser.name}`);\n\t\t\t} else {\n\t\t\t\tresults.offline.push(`${!page ? OFFLINE_SYMBOL : ''} ${curUser.name}`);\n\t\t\t}\n\t\t}\n\t\tfor (const k in results) {\n\t\t\tUtils.sortBy(results[k as keyof typeof results], result => toID(result));\n\t\t}\n\t\tif (!page) {\n\t\t\treturn <>\n\t\t\t\tUsers with a name matching '{target}':<br />\n\t\t\t\t{!results.offline.length && !results.online.length ? (\n\t\t\t\t\t<>No users found.</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{results.online.join('; ')}\n\t\t\t\t\t\t{!!results.offline.length &&\n\t\t\t\t\t\t\t<>{!!results.online.length && <><br /><br /></>}{results.offline.join('; ')}</>}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</>;\n\t\t}\n\t\treturn <div class=\"pad\">\n\t\t\t<h2>Usernames containing \"{target}\"</h2>\n\t\t\t{!results.online.length && !results.offline.length ? (\n\t\t\t\t<p>No results found.</p>\n\t\t\t) : (\n\t\t\t\t<>{!!results.online.length && <div class=\"ladder pad\">\n\t\t\t\t\t<h3>Online users</h3>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t\t<th>Punish</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tconst online = [];\n\t\t\t\t\t\t\tfor (const username of results.online) {\n\t\t\t\t\t\t\t\tonline.push(<tr>\n\t\t\t\t\t\t\t\t\t<td><username>{username}</username></td>\n\t\t\t\t\t\t\t\t\t<td><PunishmentHTML userid={toID(username)} target={target} /></td>\n\t\t\t\t\t\t\t\t</tr>);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn online;\n\t\t\t\t\t\t})()}\n\t\t\t\t\t</table>\n\t\t\t\t</div>}\n\t\t\t\t{!!(results.online.length && results.offline.length) && <hr />}\n\t\t\t\t{!!results.offline.length && <div class=\"ladder pad\">\n\t\t\t\t\t<h3>Offline users</h3>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t\t<th>Punish</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tconst offline = [];\n\t\t\t\t\t\t\tfor (const username of results.offline) {\n\t\t\t\t\t\t\t\toffline.push(<tr>\n\t\t\t\t\t\t\t\t\t<td><username>{username}</username></td>\n\t\t\t\t\t\t\t\t\t<td><PunishmentHTML userid={toID(username)} target={target} /></td>\n\t\t\t\t\t\t\t\t</tr>);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn offline;\n\t\t\t\t\t\t})()}\n\t\t\t\t\t</table>\n\t\t\t\t</div>}</>\n\t\t\t)}\n\t\t</div>;\n\t}\n}\n\nfunction saveNames() {\n\tFS('config/chat-plugins/usersearch.json').writeUpdate(() => JSON.stringify([...nameList]));\n}\n\nexport const commands: Chat.ChatCommands = {\n\tus: 'usersearch',\n\tuspage: 'usersearch',\n\tusersearchpage: 'usersearch',\n\tusersearch(target, room, user, connection, cmd) {\n\t\tthis.checkCan('lock');\n\t\ttarget = toID(target);\n\t\tif (!target) { // just join directly if it's the page cmd, they're likely looking for the full list\n\t\t\tif (cmd.includes('page')) return this.parse(`/j view-usersearch`);\n\t\t\treturn this.parse(`/help usersearch`);\n\t\t}\n\t\tif (target.length < 3) {\n\t\t\tthrow new Chat.ErrorMessage(`That's too short of a term to search for.`);\n\t\t}\n\t\tconst showPage = cmd.includes('page');\n\t\tif (showPage) {\n\t\t\tthis.parse(`/j view-usersearch-${target}`);\n\t\t\treturn;\n\t\t}\n\t\treturn this.sendReplyBox(<SearchUsernames target={target} />);\n\t},\n\tusersearchhelp: [\n\t\t`/usersearch [pattern]: Looks for all names matching the [pattern]. Requires: % @ ~`,\n\t\t`Adding \"page\" to the end of the command, i.e. /usersearchpage OR /uspage will bring up a page.`,\n\t\t`See also /usnames for a staff-curated list of the most commonly searched terms.`,\n\t],\n\tusnames: 'usersearchnames',\n\tusersearchnames: {\n\t\t'': 'list',\n\t\tlist() {\n\t\t\tthis.parse(`/join view-usersearch`);\n\t\t},\n\t\tadd(target, room, user) {\n\t\t\tthis.checkCan('lock');\n\t\t\tconst targets = target.split(',').map(toID).filter(Boolean);\n\t\t\tif (!targets.length) {\n\t\t\t\tthrow new Chat.ErrorMessage(`Specify at least one term.`);\n\t\t\t}\n\t\t\tfor (const [i, arg] of targets.entries()) {\n\t\t\t\tif (nameList.has(arg)) {\n\t\t\t\t\ttargets.splice(i, 1);\n\t\t\t\t\tthis.errorReply(`Term ${arg} is already on the usersearch term list.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (arg.length < 3) {\n\t\t\t\t\ttargets.splice(i, 1);\n\t\t\t\t\tthis.errorReply(`Term ${arg} is too short for the usersearch term list. Must be more than 3 characters.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tnameList.add(arg);\n\t\t\t}\n\t\t\tif (!targets.length) {\n\t\t\t\t// fuck you too, \"mia added 0 term to the usersearch name list\"\n\t\t\t\tthrow new Chat.ErrorMessage(`No terms could be added.`);\n\t\t\t}\n\t\t\tconst count = Chat.count(targets, 'terms');\n\t\t\tRooms.get('staff')?.addByUser(\n\t\t\t\tuser, `${user.name} added the ${count} \"${targets.join(', ')}\" to the usersearch name list.`\n\t\t\t);\n\t\t\tthis.globalModlog(`USERSEARCH ADD`, null, targets.join(', '));\n\t\t\tif (!room || room.roomid !== 'staff') {\n\t\t\t\tthis.sendReply(`You added the ${count} \"${targets.join(', ')}\" to the usersearch name list.`);\n\t\t\t}\n\t\t\tsaveNames();\n\t\t},\n\t\tremove(target, room, user) {\n\t\t\tthis.checkCan('lock');\n\t\t\tconst targets = target.split(',').map(toID).filter(Boolean);\n\t\t\tif (!targets.length) {\n\t\t\t\tthrow new Chat.ErrorMessage(`Specify at least one term.`);\n\t\t\t}\n\t\t\tfor (const [i, arg] of targets.entries()) {\n\t\t\t\tif (!nameList.has(arg)) {\n\t\t\t\t\ttargets.splice(i, 1);\n\t\t\t\t\tthis.errorReply(`${arg} is not in the usersearch name list, and has been skipped.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tnameList.delete(arg);\n\t\t\t}\n\t\t\tif (!targets.length) {\n\t\t\t\tthrow new Chat.ErrorMessage(`No terms could be removed.`);\n\t\t\t}\n\t\t\tconst count = Chat.count(targets, 'terms');\n\t\t\tRooms.get('staff')?.addByUser(\n\t\t\t\tuser, `${user.name} removed the ${count} \"${targets.join(', ')}\" from the usersearch name list.`\n\t\t\t);\n\t\t\tthis.globalModlog(`USERSEARCH REMOVE`, null, targets.join(', '));\n\t\t\tif (!room || room.roomid !== 'staff') {\n\t\t\t\tthis.sendReply(`You removed the ${count} \"${targets.join(', ')}\"\" from the usersearch name list.`);\n\t\t\t}\n\t\t\tsaveNames();\n\t\t},\n\t},\n\tusnameshelp: [\n\t\t`/usnames add [...terms]: Adds the given [terms] to the usersearch name list. Requires: % @ ~`,\n\t\t`/usnames remove [...terms]: Removes the given [terms] from the usersearch name list. Requires: % @ ~`,\n\t\t`/usnames OR /usnames list: Shows the usersearch name list.`,\n\t],\n};\n\nexport const pages: Chat.PageTable = {\n\tusersearch(query, user) {\n\t\tthis.checkCan('lock');\n\t\tconst target = toID(query.shift());\n\t\tif (!target) {\n\t\t\tthis.title = `[Usersearch Terms]`;\n\t\t\tconst sorted: { [k: string]: number } = {};\n\t\t\tfor (const curUser of Users.users.values()) {\n\t\t\t\tfor (const term of nameList) {\n\t\t\t\t\tif (curUser.id.includes(term)) {\n\t\t\t\t\t\tif (!(term in sorted)) sorted[term] = 0;\n\t\t\t\t\t\tsorted[term]++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn <div class=\"pad\">\n\t\t\t\t<strong>Usersearch term list</strong>\n\t\t\t\t<button style={{ float: 'right' }} class=\"button\" name=\"send\" value=\"/uspage\">\n\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Refresh\n\t\t\t\t</button>\n\t\t\t\t<hr />\n\t\t\t\t{!nameList.size ? (\n\t\t\t\t\t<p>None found.</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div class=\"ladder pad\">\n\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Term</th>\n\t\t\t\t\t\t\t\t<th>Current Matches</th>\n\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\tconst buf = [];\n\t\t\t\t\t\t\t\tfor (const k of Utils.sortBy(Object.keys(sorted), v => -sorted[v])) {\n\t\t\t\t\t\t\t\t\tbuf.push(<tr>\n\t\t\t\t\t\t\t\t\t\t<td>{k}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{sorted[k]}</td>\n\t\t\t\t\t\t\t\t\t\t<td><button class=\"button\" name=\"send\" value={`/uspage ${k}`}>Search</button></td>\n\t\t\t\t\t\t\t\t\t</tr>);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!buf.length) return <tr><td colSpan={3} style={{ textAlign: 'center' }}>No names found.</td></tr>;\n\t\t\t\t\t\t\t\treturn buf;\n\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>;\n\t\t}\n\t\tthis.title = `[Usersearch] ${target}`;\n\t\treturn <SearchUsernames target={target} page />;\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}
