{
  "version": 3,
  "sources": ["../../../../data/mods/gen4/moves.ts"],
  "sourcesContent": ["export const Moves: import('../../../sim/dex-moves').ModdedMoveDataTable = {\r\n\tacupressure: {\r\n\t\tinherit: true,\r\n\t\tflags: { snatch: 1, metronome: 1 },\r\n\t\tonHit(target) {\r\n\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst stats: BoostID[] = [];\r\n\t\t\tlet stat: BoostID;\r\n\t\t\tfor (stat in target.boosts) {\r\n\t\t\t\tif (target.boosts[stat] < 6) {\r\n\t\t\t\t\tstats.push(stat);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (stats.length) {\r\n\t\t\t\tconst randomStat = this.sample(stats);\r\n\t\t\t\tconst boost: SparseBoostsTable = {};\r\n\t\t\t\tboost[randomStat] = 2;\r\n\t\t\t\tthis.boost(boost);\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\taromatherapy: {\r\n\t\tinherit: true,\r\n\t\tonHit(target, source) {\r\n\t\t\tthis.add('-cureteam', source, '[from] move: Aromatherapy');\r\n\t\t\tconst allies = [...target.side.pokemon, ...target.side.allySide?.pokemon || []];\r\n\t\t\tfor (const ally of allies) {\r\n\t\t\t\tally.clearStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\taquaring: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'Aqua Ring');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 2,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"adjacentAllyOrSelf\",\r\n\t},\r\n\tassist: {\r\n\t\tinherit: true,\r\n\t\tonHit(target) {\r\n\t\t\tconst moves = [];\r\n\t\t\tfor (const pokemon of target.side.pokemon) {\r\n\t\t\t\tif (pokemon === target) continue;\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tconst moveid = moveSlot.id;\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveid);\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tmove.flags['noassist'] ||\r\n\t\t\t\t\t\t(this.field.pseudoWeather['gravity'] && move.flags['gravity']) ||\r\n\t\t\t\t\t\t(target.volatiles['healblock'] && move.flags['heal'])\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmoves.push(moveid);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet randomMove = '';\r\n\t\t\tif (moves.length) randomMove = this.sample(moves);\r\n\t\t\tif (!randomMove) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.actions.useMove(randomMove, target);\r\n\t\t},\r\n\t},\r\n\tbide: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 3,\r\n\t\t\tonLockMove: 'bide',\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.effectState.totalDamage = 0;\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Bide');\r\n\t\t\t},\r\n\t\t\tonDamagePriority: -101,\r\n\t\t\tonDamage(damage, target, source, move) {\r\n\t\t\t\tif (!move || move.effectType !== 'Move' || !source) return;\r\n\t\t\t\tthis.effectState.totalDamage += damage;\r\n\t\t\t\tthis.effectState.lastDamageSource = source;\r\n\t\t\t},\r\n\t\t\tonAfterSetStatus(status, pokemon) {\r\n\t\t\t\tif (status.id === 'slp' || status.id === 'frz') {\r\n\t\t\t\t\tpokemon.removeVolatile('bide');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\t\tif (this.effectState.duration === 1) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'move: Bide');\r\n\t\t\t\t\tif (!this.effectState.totalDamage) {\r\n\t\t\t\t\t\tthis.add('-fail', pokemon);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget = this.effectState.lastDamageSource;\r\n\t\t\t\t\tif (!target) {\r\n\t\t\t\t\t\tthis.add('-fail', pokemon);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!target.isActive) {\r\n\t\t\t\t\t\tconst possibleTarget = this.getRandomTarget(pokemon, this.dex.moves.get('pound'));\r\n\t\t\t\t\t\tif (!possibleTarget) {\r\n\t\t\t\t\t\t\tthis.add('-miss', pokemon);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget = possibleTarget;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst moveData = {\r\n\t\t\t\t\t\tid: 'bide',\r\n\t\t\t\t\t\tname: \"Bide\",\r\n\t\t\t\t\t\taccuracy: true,\r\n\t\t\t\t\t\tdamage: this.effectState.totalDamage * 2,\r\n\t\t\t\t\t\tcategory: \"Physical\",\r\n\t\t\t\t\t\tpriority: 1,\r\n\t\t\t\t\t\tflags: { contact: 1, protect: 1 },\r\n\t\t\t\t\t\tignoreImmunity: true,\r\n\t\t\t\t\t\teffectType: 'Move',\r\n\t\t\t\t\t\ttype: 'Normal',\r\n\t\t\t\t\t} as unknown as ActiveMove;\r\n\t\t\t\t\tthis.actions.tryMoveHit(target, pokemon, moveData);\r\n\t\t\t\t\tpokemon.removeVolatile('bide');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-activate', pokemon, 'move: Bide');\r\n\t\t\t},\r\n\t\t\tonMoveAborted(pokemon) {\r\n\t\t\t\tpokemon.removeVolatile('bide');\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Bide', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tbind: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 75,\r\n\t},\r\n\tbravebird: {\r\n\t\tinherit: true,\r\n\t\trecoil: [1, 3],\r\n\t},\r\n\tcamouflage: {\r\n\t\tinherit: true,\r\n\t\tonHit(target) {\r\n\t\t\tif (target.hasType('Normal') || !target.setType('Normal')) return false;\r\n\t\t\tthis.add('-start', target, 'typechange', 'Normal');\r\n\t\t},\r\n\t},\r\n\tconversion: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t\tonHit(target) {\r\n\t\t\tconst possibleTypes = target.moveSlots.map(moveSlot => {\r\n\t\t\t\tconst move = this.dex.moves.get(moveSlot.id);\r\n\t\t\t\tif (move.id !== 'conversion' && move.id !== 'curse' && !target.hasType(move.type)) {\r\n\t\t\t\t\treturn move.type;\r\n\t\t\t\t}\r\n\t\t\t\treturn '';\r\n\t\t\t}).filter(type => type);\r\n\t\t\tif (!possibleTypes.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst type = this.sample(possibleTypes);\r\n\r\n\t\t\tif (!target.setType(type)) return false;\r\n\t\t\tthis.add('-start', target, 'typechange', type);\r\n\t\t},\r\n\t},\r\n\tcopycat: {\r\n\t\tinherit: true,\r\n\t\tonHit(pokemon) {\r\n\t\t\tconst move: Move | ActiveMove | null = this.lastMove;\r\n\t\t\tif (!move) return;\r\n\r\n\t\t\tif (\r\n\t\t\t\tmove.flags['failcopycat'] ||\r\n\t\t\t\t(this.field.pseudoWeather['gravity'] && move.flags['gravity']) ||\r\n\t\t\t\t(pokemon.volatiles['healblock'] && move.flags['heal'])\r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.actions.useMove(move.id, pokemon);\r\n\t\t},\r\n\t},\r\n\tcottonspore: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t},\r\n\tcurse: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t\tonModifyMove(move, source, target) {\r\n\t\t\tif (!source.hasType('Ghost')) {\r\n\t\t\t\tdelete move.volatileStatus;\r\n\t\t\t\tdelete move.onHit;\r\n\t\t\t\tmove.self = { boosts: { atk: 1, def: 1, spe: -1 } };\r\n\t\t\t\tmove.target = move.nonGhostTarget!;\r\n\t\t\t} else if (target?.volatiles['substitute']) {\r\n\t\t\t\tdelete move.volatileStatus;\r\n\t\t\t\tdelete move.onHit;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon, source) {\r\n\t\t\t\tthis.add('-start', pokemon, 'Curse', `[of] ${source}`);\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 8,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 2);\r\n\t\t\t},\r\n\t\t},\r\n\t\ttype: \"???\",\r\n\t},\r\n\tdisable: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t\tvolatileStatus: 'disable',\r\n\t\tcondition: {\r\n\t\t\tdurationCallback() {\r\n\t\t\t\treturn this.random(4, 8);\r\n\t\t\t},\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tif (!this.queue.willMove(pokemon)) {\r\n\t\t\t\t\tthis.effectState.duration!++;\r\n\t\t\t\t}\r\n\t\t\t\tif (!pokemon.lastMove) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (moveSlot.id === pokemon.lastMove.id) {\r\n\t\t\t\t\t\tif (!moveSlot.pp) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.add('-start', pokemon, 'Disable', moveSlot.move);\r\n\t\t\t\t\t\t\tthis.effectState.move = pokemon.lastMove.id;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 13,\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Disable');\r\n\t\t\t},\r\n\t\t\tonBeforeMovePriority: 7,\r\n\t\t\tonBeforeMove(attacker, defender, move) {\r\n\t\t\t\tif (move.id === this.effectState.move) {\r\n\t\t\t\t\tthis.add('cant', attacker, 'Disable', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDisableMove(pokemon) {\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (moveSlot.id === this.effectState.move) {\r\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tdoubleedge: {\r\n\t\tinherit: true,\r\n\t\trecoil: [1, 3],\r\n\t},\r\n\tembargo: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, metronome: 1 },\r\n\t\tonTryHit(pokemon) {\r\n\t\t\tif (pokemon.ability === 'multitype' || pokemon.item === 'griseousorb') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'Embargo');\r\n\t\t\t},\r\n\t\t\t// Item suppression implemented in Pokemon.ignoringItem() within sim/pokemon.js\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 18,\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Embargo');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tencore: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1, failencore: 1 },\r\n\t\tvolatileStatus: 'encore',\r\n\t\tcondition: {\r\n\t\t\tdurationCallback() {\r\n\t\t\t\treturn this.random(4, 9);\r\n\t\t\t},\r\n\t\t\tonStart(target, source) {\r\n\t\t\t\tconst moveSlot = target.lastMove ? target.getMoveData(target.lastMove.id) : null;\r\n\t\t\t\tif (!target.lastMove || target.lastMove.flags['failencore'] || !moveSlot || moveSlot.pp <= 0) {\r\n\t\t\t\t\t// it failed\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.move = target.lastMove.id;\r\n\t\t\t\tthis.add('-start', target, 'Encore');\r\n\t\t\t},\r\n\t\t\tonOverrideAction(pokemon) {\r\n\t\t\t\treturn this.effectState.move;\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 14,\r\n\t\t\tonResidual(target) {\r\n\t\t\t\tconst moveSlot = target.getMoveData(this.effectState.move);\r\n\t\t\t\tif (moveSlot && moveSlot.pp <= 0) {\r\n\t\t\t\t\t// early termination if you run out of PP\r\n\t\t\t\t\ttarget.removeVolatile('encore');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Encore');\r\n\t\t\t},\r\n\t\t\tonDisableMove(pokemon) {\r\n\t\t\t\tif (!this.effectState.move || !pokemon.hasMove(this.effectState.move)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (moveSlot.id !== this.effectState.move) {\r\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tendeavor: {\r\n\t\tinherit: true,\r\n\t\tonTry(pokemon, target) {\r\n\t\t\tif (pokemon.hp >= target.hp) {\r\n\t\t\t\tthis.add('-fail', pokemon);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tflail: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\tconst ratio = Math.max(Math.floor(pokemon.hp * 64 / pokemon.maxhp), 1);\r\n\t\t\tlet bp;\r\n\t\t\tif (ratio < 2) {\r\n\t\t\t\tbp = 200;\r\n\t\t\t} else if (ratio < 6) {\r\n\t\t\t\tbp = 150;\r\n\t\t\t} else if (ratio < 13) {\r\n\t\t\t\tbp = 100;\r\n\t\t\t} else if (ratio < 22) {\r\n\t\t\t\tbp = 80;\r\n\t\t\t} else if (ratio < 43) {\r\n\t\t\t\tbp = 40;\r\n\t\t\t} else {\r\n\t\t\t\tbp = 20;\r\n\t\t\t}\r\n\t\t\tthis.debug(`BP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tflareblitz: {\r\n\t\tinherit: true,\r\n\t\trecoil: [1, 3],\r\n\t},\r\n\tforesight: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\tgravity: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(source, effect) {\r\n\t\t\t\tif (source?.hasAbility('rocheradius')) {\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonModifyWeight(weighthg) {\r\n\t\t\t\treturn weighthg * 2;\r\n\t\t\t},\r\n\t\t\tonFieldStart(target, source, effect) {\r\n\t\t\t\tthis.add('-fieldstart', 'move: Gravity');\r\n\t\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\t\tlet applies = false;\r\n\t\t\t\t\tif (pokemon.removeVolatile('bounce') || pokemon.removeVolatile('fly')) {\r\n\t\t\t\t\t\tapplies = true;\r\n\t\t\t\t\t\tthis.queue.cancelMove(pokemon);\r\n\t\t\t\t\t\tpokemon.removeVolatile('twoturnmove');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pokemon.volatiles['skydrop']) {\r\n\t\t\t\t\t\tapplies = true;\r\n\t\t\t\t\t\tthis.queue.cancelMove(pokemon);\r\n\r\n\t\t\t\t\t\tif (pokemon.volatiles['skydrop'].source) {\r\n\t\t\t\t\t\t\tthis.add('-end', pokemon.volatiles['twoturnmove'].source, 'Sky Drop', '[interrupt]');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpokemon.removeVolatile('skydrop');\r\n\t\t\t\t\t\tpokemon.removeVolatile('twoturnmove');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pokemon.volatiles['magnetrise']) {\r\n\t\t\t\t\t\tapplies = true;\r\n\t\t\t\t\t\tdelete pokemon.volatiles['magnetrise'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pokemon.volatiles['telekinesis']) {\r\n\t\t\t\t\t\tapplies = true;\r\n\t\t\t\t\t\tdelete pokemon.volatiles['telekinesis'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (applies) this.add('-activate', pokemon, 'move: Gravity');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifyAccuracy(accuracy) {\r\n\t\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\t\treturn this.chainModify([6840, 4096]);\r\n\t\t\t},\r\n\t\t\tonDisableMove(pokemon) {\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (this.dex.moves.get(moveSlot.id).flags['gravity']) {\r\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// groundedness implemented in battle.engine.js:BattlePokemon#isGrounded\r\n\t\t\tonBeforeMovePriority: 6,\r\n\t\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\t\tif (move.flags['gravity'] && !move.isZ) {\r\n\t\t\t\t\tthis.add('cant', pokemon, 'move: Gravity', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\t\tif (move.flags['gravity'] && !move.isZ) {\r\n\t\t\t\t\tthis.add('cant', pokemon, 'move: Gravity', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFieldResidualOrder: 9,\r\n\t\t\tonFieldEnd() {\r\n\t\t\t\tthis.add('-fieldend', 'move: Gravity');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tgrowth: {\r\n\t\tinherit: true,\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) move.boosts = { atk: 2, spa: 2 };\r\n\t\t},\r\n\t\tboosts: {\r\n\t\t\tatk: 1,\r\n\t\t\tspa: 1,\r\n\t\t},\r\n\t},\r\n\thaze: {\r\n\t\tinherit: true,\r\n\t\tonHitField() {\r\n\t\t\tthis.add('-clearallboost');\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tpokemon.clearBoosts();\r\n\t\t\t\tpokemon.removeVolatile('focusenergy');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thealbell: {\r\n\t\tinherit: true,\r\n\t\tonHit(target, source) {\r\n\t\t\tthis.add('-activate', source, 'move: Heal Bell');\r\n\t\t\tconst allies = [...target.side.pokemon, ...target.side.allySide?.pokemon || []];\r\n\t\t\tfor (const ally of allies) {\r\n\t\t\t\tif (ally.hasAbility('soundproof') && !this.suppressingAbility(ally)) {\r\n\t\t\t\t\tif (ally.isActive) this.add('-immune', ally, '[from] ability: Soundproof');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tally.cureStatus(true);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thealblock: {\r\n\t\tinherit: true,\r\n\t\tflags: { mirror: 1, metronome: 1 },\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(target, source, effect) {\r\n\t\t\t\tif (effect?.name === \"Psychic Noise\") {\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\t}\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-activate', source, 'ability: Persistent', '[move] Heal Block');\r\n\t\t\t\t\treturn 7;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonStart(pokemon, source) {\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Heal Block');\r\n\t\t\t\tsource.moveThisTurnResult = true;\r\n\t\t\t},\r\n\t\t\tonDisableMove(pokemon) {\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (this.dex.moves.get(moveSlot.id).flags['heal']) {\r\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBeforeMovePriority: 6,\r\n\t\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\t\tif (move.flags['heal'] && !move.isZ && !move.isMax) {\r\n\t\t\t\t\tthis.add('cant', pokemon, 'move: Heal Block', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\t\tif (move.flags['heal'] && !move.isZ && !move.isMax) {\r\n\t\t\t\t\tthis.add('cant', pokemon, 'move: Heal Block', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 20,\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Heal Block');\r\n\t\t\t},\r\n\t\t\tonTryHeal(damage, target, source, effect) {\r\n\t\t\t\tif (effect && (effect.id === 'zpower' || (effect as Move).isZ)) return damage;\r\n\t\t\t\tif (source && target !== source && target.hp !== target.maxhp && effect.name === \"Pollen Puff\") {\r\n\t\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\t\t// FIXME: Wrong error message, correct one not supported yet\r\n\t\t\t\t\tthis.add('cant', source, 'move: Heal Block', effect);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tonRestart(target, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Psychic Noise') return;\r\n\r\n\t\t\t\tthis.add('-fail', target, 'move: Heal Block'); // Succeeds to supress downstream messages\r\n\t\t\t\tif (!source.moveThisTurnResult) {\r\n\t\t\t\t\tsource.moveThisTurnResult = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\thealingwish: {\r\n\t\tinherit: true,\r\n\t\tflags: { heal: 1, metronome: 1 },\r\n\t\tonAfterMove(pokemon) {\r\n\t\t\tpokemon.switchFlag = true;\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonSwitchInPriority: -1,\r\n\t\t\tonSwitchIn(target) {\r\n\t\t\t\tif (target.hp > 0) {\r\n\t\t\t\t\ttarget.heal(target.maxhp);\r\n\t\t\t\t\ttarget.clearStatus();\r\n\t\t\t\t\tthis.add('-heal', target, target.getHealth, '[from] move: Healing Wish');\r\n\t\t\t\t\ttarget.side.removeSlotCondition(target, 'healingwish');\r\n\t\t\t\t\ttarget.lastMove = this.lastMove;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.switchFlag = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\timprison: {\r\n\t\tinherit: true,\r\n\t\tflags: { bypasssub: 1, metronome: 1 },\r\n\t\tonTryHit(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const move of pokemon.moves) {\r\n\t\t\t\t\tif (target.moves.includes(move)) return;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tingrain: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Ingrain');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 1,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\r\n\t\t\t},\r\n\t\t\tonTrapPokemon(pokemon) {\r\n\t\t\t\tpokemon.tryTrap();\r\n\t\t\t},\r\n\t\t\t// groundedness implemented in battle.engine.js:BattlePokemon#isGrounded\r\n\t\t\tonDragOut(pokemon) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'move: Ingrain');\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tjumpkick: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 100,\r\n\t\tpp: 10,\r\n\t\tonMoveFail(target, source, move) {\r\n\t\t\tthis.damage(source.baseMaxhp / 2, source, source, this.dex.conditions.get('Jump Kick'));\r\n\t\t},\r\n\t},\r\n\tlastresort: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 130,\r\n\t},\r\n\tleechseed: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tcondition: {\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'move: Leech Seed');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 5,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tconst target = this.getAtSlot(pokemon.volatiles['leechseed'].sourceSlot);\r\n\t\t\t\tif (!target || target.fainted || target.hp <= 0) {\r\n\t\t\t\t\tthis.debug('Nothing to leech into');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst damage = this.damage(pokemon.baseMaxhp / 8, pokemon, target);\r\n\t\t\t\tif (damage) {\r\n\t\t\t\t\tthis.heal(damage, target, pokemon);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tlightscreen: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(target, source, effect) {\r\n\t\t\t\tif (source?.hasItem('lightclay')) {\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonAnyModifyDamagePhase1(damage, source, target, move) {\r\n\t\t\t\tif (target !== source && this.effectState.target.hasAlly(target) && this.getCategory(move) === 'Special') {\r\n\t\t\t\t\tif (!target.getMoveHitData(move).crit && !move.infiltrates) {\r\n\t\t\t\t\t\tthis.debug('Light Screen weaken');\r\n\t\t\t\t\t\tif (target.alliesAndSelf().length > 1) return this.chainModify(2, 3);\r\n\t\t\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Light Screen');\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 2,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'Light Screen');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tlockon: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 2,\r\n\t\t\tonSourceInvulnerabilityPriority: 1,\r\n\t\t\tonSourceInvulnerability(target, source, move) {\r\n\t\t\t\tif (move && source === this.effectState.target && target === this.effectState.source) return 0;\r\n\t\t\t},\r\n\t\t\tonSourceAccuracy(accuracy, target, source, move) {\r\n\t\t\t\tif (move && source === this.effectState.target && target === this.effectState.source) return true;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tluckychant: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Lucky Chant');\r\n\t\t\t},\r\n\t\t\tonCriticalHit: false,\r\n\t\t\tonSideResidualOrder: 6,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'move: Lucky Chant');\r\n\t\t\t},\r\n\t\t\tonModifyMove(move) {\r\n\t\t\t\tif (move.secondaries && move.id !== 'chatter') {\r\n\t\t\t\t\tthis.debug('+10% secondary chance');\r\n\t\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\t\tif (secondary.chance) secondary.chance += 10;\r\n\t\t\t\t\t\tif (secondary.chance > 100) secondary.chance = 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tlunardance: {\r\n\t\tinherit: true,\r\n\t\tflags: { heal: 1, metronome: 1 },\r\n\t\tonAfterMove(pokemon) {\r\n\t\t\tpokemon.switchFlag = true;\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.debug('Lunar Dance started on ' + side.name);\r\n\t\t\t},\r\n\t\t\tonSwitchInPriority: -1,\r\n\t\t\tonSwitchIn(target) {\r\n\t\t\t\tif (target.getSlot() !== this.effectState.sourceSlot) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.hp > 0) {\r\n\t\t\t\t\ttarget.heal(target.maxhp);\r\n\t\t\t\t\ttarget.clearStatus();\r\n\t\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\t\tmoveSlot.pp = moveSlot.maxpp;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.add('-heal', target, target.getHealth, '[from] move: Lunar Dance');\r\n\t\t\t\t\ttarget.side.removeSlotCondition(target, 'lunardance');\r\n\t\t\t\t\ttarget.lastMove = this.lastMove;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.switchFlag = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmagiccoat: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonTryHitPriority: 2,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (target === source || move.hasBounced || !move.flags['reflectable']) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\ttarget.removeVolatile('magiccoat');\r\n\t\t\t\tconst newMove = this.dex.getActiveMove(move.id);\r\n\t\t\t\tnewMove.hasBounced = true;\r\n\t\t\t\tthis.actions.useMove(newMove, target, { target: source });\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmefirst: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonModifyDamagePhase2(damage) {\r\n\t\t\t\treturn damage * 1.5;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmetalburst: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, metronome: 1 },\r\n\t},\r\n\tmetronome: {\r\n\t\tinherit: true,\r\n\t\tflags: { noassist: 1, failcopycat: 1, nosleeptalk: 1, failmimic: 1 },\r\n\t\tonHit(pokemon) {\r\n\t\t\tconst moves = this.dex.moves.all().filter(move => (\r\n\t\t\t\t(![2, 4].includes(this.gen) || !pokemon.moves.includes(move.id)) &&\r\n\t\t\t\t(!move.isNonstandard || move.isNonstandard === 'Unobtainable') &&\r\n\t\t\t\tmove.flags['metronome'] &&\r\n\t\t\t\t!(this.field.pseudoWeather['gravity'] && move.flags['gravity']) &&\r\n\t\t\t\t!(pokemon.volatiles['healblock'] && move.flags['heal'])\r\n\t\t\t));\r\n\t\t\tlet randomMove = '';\r\n\t\t\tif (moves.length) {\r\n\t\t\t\tmoves.sort((a, b) => a.num - b.num);\r\n\t\t\t\trandomMove = this.sample(moves).id;\r\n\t\t\t}\r\n\t\t\tif (!randomMove) return false;\r\n\t\t\tpokemon.side.lastSelectedMove = this.toID(randomMove);\r\n\t\t\tthis.actions.useMove(randomMove, pokemon);\r\n\t\t},\r\n\t},\r\n\tmimic: {\r\n\t\tinherit: true,\r\n\t\tflags: {\r\n\t\t\tprotect: 1, allyanim: 1, noassist: 1, failcopycat: 1, failencore: 1, failinstruct: 1, failmimic: 1,\r\n\t\t},\r\n\t\tonHit(target, source) {\r\n\t\t\tif (source.transformed || !target.lastMove || target.volatiles['substitute']) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (target.lastMove.flags['failmimic'] || source.moves.includes(target.lastMove.id)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst mimicIndex = source.moves.indexOf('mimic');\r\n\t\t\tif (mimicIndex < 0) return false;\r\n\t\t\tconst move = this.dex.moves.get(target.lastMove.id);\r\n\t\t\tsource.moveSlots[mimicIndex] = {\r\n\t\t\t\tmove: move.name,\r\n\t\t\t\tid: move.id,\r\n\t\t\t\tpp: 5,\r\n\t\t\t\tmaxpp: move.pp * 8 / 5,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tused: false,\r\n\t\t\t\tvirtual: true,\r\n\t\t\t};\r\n\t\t\tthis.add('-activate', source, 'move: Mimic', move.name);\r\n\t\t},\r\n\t},\r\n\tminimize: {\r\n\t\tinherit: true,\r\n\t\tboosts: {\r\n\t\t\tevasion: 2,\r\n\t\t},\r\n\t},\r\n\tmiracleeye: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\tmirrormove: {\r\n\t\tinherit: true,\r\n\t\tonTryHit() {},\r\n\t\tonHit(pokemon) {\r\n\t\t\tconst lastAttackedBy = pokemon.getLastAttackedBy();\r\n\t\t\tif (!lastAttackedBy?.source.lastMove || !lastAttackedBy.move) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst noMirror = [\r\n\t\t\t\t'acupressure', 'aromatherapy', 'assist', 'chatter', 'copycat', 'counter', 'curse', 'doomdesire', 'feint', 'focuspunch', 'futuresight', 'gravity', 'hail', 'haze', 'healbell', 'helpinghand', 'lightscreen', 'luckychant', 'magiccoat', 'mefirst', 'metronome', 'mimic', 'mirrorcoat', 'mirrormove', 'mist', 'mudsport', 'naturepower', 'perishsong', 'psychup', 'raindance', 'reflect', 'roleplay', 'safeguard', 'sandstorm', 'sketch', 'sleeptalk', 'snatch', 'spikes', 'spitup', 'stealthrock', 'struggle', 'sunnyday', 'tailwind', 'toxicspikes', 'transform', 'watersport', 'tossandturn',\r\n\t\t\t];\r\n\t\t\tif (noMirror.includes(lastAttackedBy.move) || !lastAttackedBy.source.hasMove(lastAttackedBy.move)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.actions.useMove(lastAttackedBy.move, pokemon);\r\n\t\t},\r\n\t\ttarget: \"self\",\r\n\t},\r\n\tmist: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\t\tif (effect.effectType === 'Move' && effect.infiltrates && !target.isAlly(source)) return;\r\n\t\t\t\tif (source && target !== source) {\r\n\t\t\t\t\tlet showMsg = false;\r\n\t\t\t\t\tlet i: BoostID;\r\n\t\t\t\t\tfor (i in boost) {\r\n\t\t\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (showMsg && !(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\t\tthis.add('-activate', target, 'move: Mist');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Mist');\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 3,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'Mist');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmoonlight: {\r\n\t\tinherit: true,\r\n\t\tonHit(pokemon) {\r\n\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland'])) {\r\n\t\t\t\tthis.heal(pokemon.maxhp * 2 / 3);\r\n\t\t\t} else if (this.field.isWeather(['raindance', 'primordialsea', 'sandstorm', 'hail'])) {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 4);\r\n\t\t\t} else {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmorningsun: {\r\n\t\tinherit: true,\r\n\t\tonHit(pokemon) {\r\n\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland'])) {\r\n\t\t\t\tthis.heal(pokemon.maxhp * 2 / 3);\r\n\t\t\t} else if (this.field.isWeather(['raindance', 'primordialsea', 'sandstorm', 'hail'])) {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 4);\r\n\t\t\t} else {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmudsport: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Mud Sport');\r\n\t\t\t},\r\n\t\t\tonAnyBasePowerPriority: 3,\r\n\t\t\tonAnyBasePower(basePower, user, target, move) {\r\n\t\t\t\tif (move.type === 'Electric') {\r\n\t\t\t\t\tthis.debug('Mud Sport weaken');\r\n\t\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tnaturepower: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t\tonHit(pokemon) {\r\n\t\t\tthis.actions.useMove('triattack', pokemon);\r\n\t\t},\r\n\t},\r\n\tnightmare: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tif (pokemon.status !== 'slp' && !pokemon.hasAbility('comatose')) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-start', pokemon, 'Nightmare');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 7,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 3);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\todorsleuth: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\toutrage: {\r\n\t\tinherit: true,\r\n\t\tpp: 10,\r\n\t},\r\n\tpayback: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tif (this.queue.willMove(target)) {\r\n\t\t\t\treturn 50;\r\n\t\t\t}\r\n\t\t\tthis.debug('BP doubled');\r\n\t\t\treturn 100;\r\n\t\t},\r\n\t},\r\n\tpayday: {\r\n\t\tinherit: true,\r\n\t\tonHit() {\r\n\t\t\tthis.add('-fieldactivate', 'move: Pay Day');\r\n\t\t},\r\n\t},\r\n\tperishsong: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 4,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-start', target, 'perish0');\r\n\t\t\t\ttarget.faint();\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 12,\r\n\t\t\tonResidual(pokemon) {\r\n\t\t\t\tconst duration = pokemon.volatiles['perishsong'].duration;\r\n\t\t\t\tthis.add('-start', pokemon, `perish${duration}`);\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: { sound: 1, distance: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\tpowertrick: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t},\r\n\tpsychup: {\r\n\t\tinherit: true,\r\n\t\tflags: { snatch: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\tpursuit: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonBeforeSwitchOut(pokemon) {\r\n\t\t\t\tthis.debug('Pursuit start');\r\n\t\t\t\tlet alreadyAdded = false;\r\n\t\t\t\tfor (const source of this.effectState.sources) {\r\n\t\t\t\t\tif (!this.queue.cancelMove(source) || !source.hp) continue;\r\n\t\t\t\t\tif (!alreadyAdded) {\r\n\t\t\t\t\t\tthis.add('-activate', pokemon, 'move: Pursuit');\r\n\t\t\t\t\t\talreadyAdded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Run through each action in queue to check if the Pursuit user is supposed to Mega Evolve this turn.\r\n\t\t\t\t\t// If it is, then Mega Evolve before moving.\r\n\t\t\t\t\tif (source.canMegaEvo || source.canUltraBurst) {\r\n\t\t\t\t\t\tfor (const [actionIndex, action] of this.queue.entries()) {\r\n\t\t\t\t\t\t\tif (action.pokemon === source && action.choice === 'megaEvo') {\r\n\t\t\t\t\t\t\t\tthis.actions.runMegaEvo(source);\r\n\t\t\t\t\t\t\t\tthis.queue.list.splice(actionIndex, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.actions.runMove('pursuit', source, source.getLocOf(pokemon));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\trapidspin: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 50,\r\n\t\tself: {\r\n\t\t\tonHit(pokemon) {\r\n\t\t\t\tif (pokemon.removeVolatile('leechseed')) {\r\n\t\t\t\t\tthis.add('-end', pokemon, 'Leech Seed', '[from] move: Rapid Spin', `[of] ${pokemon}`);\r\n\t\t\t\t}\r\n\t\t\t\tconst sideConditions = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb'];\r\n\t\t\t\tfor (const condition of sideConditions) {\r\n\t\t\t\t\tif (pokemon.side.removeSideCondition(condition)) {\r\n\t\t\t\t\t\tthis.add('-sideend', pokemon.side, this.dex.conditions.get(condition).name, '[from] move: Rapid Spin', `[of] ${pokemon}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tpokemon.removeVolatile('partiallytrapped');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tself: {\r\n\t\t\t\tboosts: {\r\n\t\t\t\t\tspe: 1,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\trecycle: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1 },\r\n\t},\r\n\treflect: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(target, source, effect) {\r\n\t\t\t\tif (source?.hasItem('lightclay')) {\r\n\t\t\t\t\treturn 8;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonAnyModifyDamagePhase1(damage, source, target, move) {\r\n\t\t\t\tif (target !== source && this.effectState.target.hasAlly(target) && this.getCategory(move) === 'Physical') {\r\n\t\t\t\t\tif (!target.getMoveHitData(move).crit && !move.infiltrates && move.id !== 'focuspunch') {\r\n\t\t\t\t\t\tthis.debug('Reflect weaken');\r\n\t\t\t\t\t\tif (target.alliesAndSelf().length > 1) return this.chainModify(2, 3);\r\n\t\t\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Reflect');\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 1,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'Reflect');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\treversal: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\tconst ratio = Math.max(Math.floor(pokemon.hp * 64 / pokemon.maxhp), 1);\r\n\t\t\tlet bp;\r\n\t\t\tif (ratio < 2) {\r\n\t\t\t\tbp = 200;\r\n\t\t\t} else if (ratio < 6) {\r\n\t\t\t\tbp = 150;\r\n\t\t\t} else if (ratio < 13) {\r\n\t\t\t\tbp = 100;\r\n\t\t\t} else if (ratio < 22) {\r\n\t\t\t\tbp = 80;\r\n\t\t\t} else if (ratio < 43) {\r\n\t\t\t\tbp = 40;\r\n\t\t\t} else {\r\n\t\t\t\tbp = 20;\r\n\t\t\t}\r\n\t\t\tthis.debug(`BP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\troar: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, sound: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\troleplay: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(target, source) {\r\n\t\t\tif (target.ability === source.ability || source.hasItem('griseousorb')) return false;\r\n\t\t\tif (target.getAbility().flags['failroleplay'] || source.ability === 'multitype') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsafeguard: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(target, source, effect) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-activate', source, 'ability: Persistent', '[move] Safeguard');\r\n\t\t\t\t\treturn 7;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\t\tif (!effect || !source) return;\r\n\t\t\t\tif (effect.id === 'yawn') return;\r\n\t\t\t\tif (effect.effectType === 'Move' && effect.infiltrates && !target.isAlly(source)) return;\r\n\t\t\t\tif (target !== source) {\r\n\t\t\t\t\tthis.debug('interrupting setStatus');\r\n\t\t\t\t\tif (effect.id === 'synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\r\n\t\t\t\t\t\tthis.add('-activate', target, 'move: Safeguard');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTryAddVolatile(status, target, source, effect) {\r\n\t\t\t\tif (!effect || !source) return;\r\n\t\t\t\tif (effect.effectType === 'Move' && effect.infiltrates && !target.isAlly(source)) return;\r\n\t\t\t\tif ((status.id === 'confusion' || status.id === 'yawn') && target !== source) {\r\n\t\t\t\t\tif (effect.effectType === 'Move' && !effect.secondaries) this.add('-activate', target, 'move: Safeguard');\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideStart(side, source) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-sidestart', side, 'Safeguard', '[persistent]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-sidestart', side, 'Safeguard');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 4,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'Safeguard');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsecretpower: {\r\n\t\tinherit: true,\r\n\t\tsecondary: {\r\n\t\t\tchance: 30,\r\n\t\t\tstatus: 'par',\r\n\t\t},\r\n\t},\r\n\tsketch: {\r\n\t\tinherit: true,\r\n\t\tflags: {\r\n\t\t\tbypasssub: 1, allyanim: 1, failencore: 1, noassist: 1,\r\n\t\t\tfailcopycat: 1, failinstruct: 1, failmimic: 1, nosketch: 1,\r\n\t\t},\r\n\t\tonHit(target, source) {\r\n\t\t\tif (source.transformed || !target.lastMove || target.volatiles['substitute']) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (target.lastMove.flags['nosketch'] || source.moves.includes(target.lastMove.id)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst sketchIndex = source.moves.indexOf('sketch');\r\n\t\t\tif (sketchIndex < 0) return false;\r\n\t\t\tconst move = this.dex.moves.get(target.lastMove.id);\r\n\t\t\tconst sketchedMove = {\r\n\t\t\t\tmove: move.name,\r\n\t\t\t\tid: move.id,\r\n\t\t\t\tpp: move.pp,\r\n\t\t\t\tmaxpp: move.pp,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tused: false,\r\n\t\t\t};\r\n\t\t\tsource.moveSlots[sketchIndex] = sketchedMove;\r\n\t\t\tsource.baseMoveSlots[sketchIndex] = sketchedMove;\r\n\t\t\tthis.add('-activate', source, 'move: Mimic', move.name);\r\n\t\t},\r\n\t},\r\n\tskillswap: {\r\n\t\tinherit: true,\r\n\t\tonHit(target, source) {\r\n\t\t\tconst targetAbility = target.ability;\r\n\t\t\tconst sourceAbility = source.ability;\r\n\t\t\tif (targetAbility === sourceAbility || source.hasItem('griseousorb') || target.hasItem('griseousorb')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.add('-activate', source, 'move: Skill Swap');\r\n\t\t\tsource.setAbility(targetAbility);\r\n\t\t\ttarget.setAbility(sourceAbility);\r\n\t\t},\r\n\t},\r\n\tsleeptalk: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(pokemon) {\r\n\t\t\treturn !pokemon.volatiles['choicelock'] && !pokemon.volatiles['encore'];\r\n\t\t},\r\n\t},\r\n\tsnatch: {\r\n\t\tinherit: true,\r\n\t\tflags: { bypasssub: 1, noassist: 1, failcopycat: 1 },\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-singleturn', pokemon, 'Snatch');\r\n\t\t\t},\r\n\t\t\tonAnyPrepareHitPriority: -1,\r\n\t\t\tonAnyPrepareHit(source, target, move) {\r\n\t\t\t\tconst snatchUser = this.effectState.source;\r\n\t\t\t\tif (snatchUser.isSkyDropped()) return;\r\n\t\t\t\tif (!move || move.isZ || move.isMax || !move.flags['snatch']) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsnatchUser.removeVolatile('snatch');\r\n\t\t\t\tthis.add('-activate', snatchUser, 'move: Snatch', `[of] ${source}`);\r\n\t\t\t\tif (this.actions.useMove(move.id, snatchUser)) {\r\n\t\t\t\t\tsnatchUser.deductPP('snatch');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tspikes: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1, mustpressure: 1 },\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'Spikes');\r\n\t\t\t\tthis.effectState.layers = 1;\r\n\t\t\t},\r\n\t\t\tonSideRestart(side) {\r\n\t\t\t\tif (this.effectState.layers >= 3) return false;\r\n\t\t\t\tthis.add('-sidestart', side, 'Spikes');\r\n\t\t\t\tthis.effectState.layers++;\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded() || pokemon.hasItem('heavydutyboots')) return;\r\n\t\t\t\tconst damageAmounts = [0, 3, 4, 6]; // 1/8, 1/6, 1/4\r\n\t\t\t\tthis.damage(damageAmounts[this.effectState.layers] * pokemon.maxhp / 24);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tstealthrock: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1, mustpressure: 1 },\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Stealth Rock');\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (pokemon.hasItem('heavydutyboots')) return;\r\n\t\t\t\tconst typeMod = this.clampIntRange(pokemon.runEffectiveness(this.dex.getActiveMove('stealthrock')), -6, 6);\r\n\t\t\t\tlet rockDamage = pokemon.maxhp * 2 ** typeMod / 8;\r\n\t\t\t\trockDamage = rockDamage * 3 / 4;\r\n\t\t\t\tthis.damage(rockDamage);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tstruggle: {\r\n\t\tinherit: true,\r\n\t\tflags: {\r\n\t\t\tcontact: 1, protect: 1, failencore: 1, failmefirst: 1,\r\n\t\t\tnoassist: 1, failcopycat: 1, failinstruct: 1, failmimic: 1, nosketch: 1,\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.type = '???';\r\n\t\t},\r\n\t},\r\n\tsubstitute: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'Substitute');\r\n\t\t\t\tthis.effectState.hp = Math.floor(target.maxhp / 4);\r\n\t\t\t\tdelete target.volatiles['partiallytrapped'];\r\n\t\t\t},\r\n\t\t\tonTryPrimaryHitPriority: -1,\r\n\t\t\tonTryPrimaryHit(target, source, move) {\r\n\t\t\t\tif (target === source || move.flags['bypasssub']) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet damage = this.actions.getDamage(source, target, move);\r\n\t\t\t\tif (!damage && damage !== 0) {\r\n\t\t\t\t\tthis.add('-fail', source);\r\n\t\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tif (damage > target.volatiles['substitute'].hp) {\r\n\t\t\t\t\tdamage = target.volatiles['substitute'].hp as number;\r\n\t\t\t\t}\r\n\t\t\t\ttarget.volatiles['substitute'].hp -= damage;\r\n\t\t\t\tsource.lastDamage = damage;\r\n\t\t\t\tif (target.volatiles['substitute'].hp <= 0) {\r\n\t\t\t\t\ttarget.removeVolatile('substitute');\r\n\t\t\t\t\ttarget.addVolatile('substitutebroken');\r\n\t\t\t\t\tif (target.volatiles['substitutebroken']) target.volatiles['substitutebroken'].move = move.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', target, 'Substitute', '[damage]');\r\n\t\t\t\t}\r\n\t\t\t\tif (move.ohko) this.add('-ohko');\r\n\t\t\t\tif (move.recoil && damage) {\r\n\t\t\t\t\tthis.damage(this.actions.calcRecoilDamage(damage, move, source), source, target, 'recoil');\r\n\t\t\t\t}\r\n\t\t\t\tif (move.drain) {\r\n\t\t\t\t\tthis.heal(Math.ceil(damage * move.drain[0] / move.drain[1]), source, target, 'drain');\r\n\t\t\t\t}\r\n\t\t\t\tthis.runEvent('AfterSubDamage', target, source, move, damage);\r\n\t\t\t\treturn this.HIT_SUBSTITUTE;\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Substitute');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsuckerpunch: {\r\n\t\tinherit: true,\r\n\t\tonTry(source, target) {\r\n\t\t\tconst action = this.queue.willMove(target);\r\n\t\t\tif (!action || action.choice !== 'move' || action.move.category === 'Status' || target.volatiles['mustrecharge']) {\r\n\t\t\t\tthis.add('-fail', source);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tswitcheroo: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target.hasAbility('multitype') || source.hasAbility('multitype')) return false;\r\n\t\t},\r\n\t},\r\n\tsynthesis: {\r\n\t\tinherit: true,\r\n\t\tonHit(pokemon) {\r\n\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland'])) {\r\n\t\t\t\tthis.heal(pokemon.maxhp * 2 / 3);\r\n\t\t\t} else if (this.field.isWeather(['raindance', 'primordialsea', 'sandstorm', 'hail'])) {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 4);\r\n\t\t\t} else {\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\ttailglow: {\r\n\t\tinherit: true,\r\n\t\tboosts: {\r\n\t\t\tspa: 2,\r\n\t\t},\r\n\t},\r\n\ttorment: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\ttoxicspikes: {\r\n\t\tinherit: true,\r\n\t\tflags: { metronome: 1, mustpressure: 1 },\r\n\t\tcondition: {\r\n\t\t\t// this is a side condition\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Toxic Spikes');\r\n\t\t\t\tthis.effectState.layers = 1;\r\n\t\t\t},\r\n\t\t\tonSideRestart(side) {\r\n\t\t\t\tif (this.effectState.layers >= 2) return false;\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Toxic Spikes');\r\n\t\t\t\tthis.effectState.layers++;\r\n\t\t\t},\r\n\t\t\tonEntryHazard(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded()) return;\r\n\t\t\t\tif (pokemon.hasType('Poison')) {\r\n\t\t\t\t\tthis.add('-sideend', pokemon.side, 'move: Toxic Spikes', `[of] ${pokemon}`);\r\n\t\t\t\t\tpokemon.side.removeSideCondition('toxicspikes');\r\n\t\t\t\t} else if (pokemon.volatiles['substitute'] || pokemon.hasType('Steel')) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t} else if (this.effectState.layers >= 2) {\r\n\t\t\t\t\tpokemon.trySetStatus('tox', pokemon.side.foe.active[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpokemon.trySetStatus('psn', pokemon.side.foe.active[0]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\ttransform: {\r\n\t\tinherit: true,\r\n\t\tflags: { bypasssub: 1, metronome: 1, failencore: 1 },\r\n\t},\r\n\ttrick: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target.hasAbility('multitype') || source.hasAbility('multitype')) return false;\r\n\t\t},\r\n\t},\r\n\ttrickroom: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tdurationCallback(source, effect) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-activate', source, 'ability: Persistent', '[move] Trick Room');\r\n\t\t\t\t\treturn 7;\r\n\t\t\t\t}\r\n\t\t\t\treturn 5;\r\n\t\t\t},\r\n\t\t\tonFieldStart(target, source) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-fieldstart', 'move: Trick Room', `[of] ${source}`, '[persistent]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-fieldstart', 'move: Trick Room', `[of] ${source}`);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonFieldRestart(target, source) {\r\n\t\t\t\tthis.field.removePseudoWeather('trickroom');\r\n\t\t\t},\r\n\t\t\t// Speed modification is changed in Pokemon.getActionSpeed() in sim/pokemon.js\r\n\t\t\tonFieldResidualOrder: 13,\r\n\t\t\tonFieldEnd() {\r\n\t\t\t\tthis.add('-fieldend', 'move: Trick Room');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tvolttackle: {\r\n\t\tinherit: true,\r\n\t\trecoil: [1, 3],\r\n\t},\r\n\twatersport: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tthis.add('-start', pokemon, 'move: Water Sport');\r\n\t\t\t},\r\n\t\t\tonAnyBasePowerPriority: 3,\r\n\t\t\tonAnyBasePower(basePower, user, target, move) {\r\n\t\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\t\tthis.debug('Water Sport weaken');\r\n\t\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\twhirlwind: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n\twish: {\r\n\t\tinherit: true,\r\n\t\tflags: { heal: 1, metronome: 1 },\r\n\t\tslotCondition: 'Wish',\r\n\t\tcondition: {\r\n\t\t\tduration: 2,\r\n\t\t\tonResidualOrder: 7,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tif (!target.fainted) {\r\n\t\t\t\t\tconst source = this.effectState.source;\r\n\t\t\t\t\tconst damage = this.heal(target.baseMaxhp / 2, target, target);\r\n\t\t\t\t\tif (damage) this.add('-heal', target, target.getHealth, '[from] move: Wish', '[wisher] ' + source.name);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\twoodhammer: {\r\n\t\tinherit: true,\r\n\t\trecoil: [1, 3],\r\n\t},\r\n\tworryseed: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(pokemon) {\r\n\t\t\tconst bannedAbilities = ['multitype', 'truant'];\r\n\t\t\tif (bannedAbilities.includes(pokemon.ability) || pokemon.hasItem('griseousorb')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttarget: \"allAdjacent\",\r\n\t},\r\n\twringout: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tconst bp = Math.floor(target.hp * 120 / target.maxhp) + 1;\r\n\t\t\tthis.debug(`BP for ${target.hp}/${target.maxhp} HP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tyawn: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\r\n\t\t\tduration: 2,\r\n\t\t\tonStart(target, source) {\r\n\t\t\t\tthis.add('-start', target, 'move: Yawn', `[of] ${source}`);\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 19,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'move: Yawn', '[silent]');\r\n\t\t\t\ttarget.trySetStatus('slp', this.effectState.source);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tdefog: {\r\n\t\tnum: 432,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Defog\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: { protect: 1, reflectable: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t\tonHit(target, source, move) {\r\n\t\t\tlet success = false;\r\n\t\t\tif (!target.volatiles['substitute'] || move.infiltrates) success = !!this.boost({ evasion: -1 });\r\n\t\t\tconst removeAll = ['spikes', 'toxicspikes', 'stealthrock', 'stickyweb', 'gmaxsteelsurge'];\r\n\t\t\tconst removeTarget = ['reflect', 'lightscreen', 'auroraveil', 'safeguard', 'mist', ...removeAll];\r\n\t\t\tfor (const targetCondition of removeTarget) {\r\n\t\t\t\tif (target.side.removeSideCondition(targetCondition)) {\r\n\t\t\t\t\tif (!removeAll.includes(targetCondition)) continue;\r\n\t\t\t\t\tthis.add('-sideend', target.side, this.dex.conditions.get(targetCondition).name, '[from] move: Defog', `[of] ${source}`);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (const sideCondition of removeAll) {\r\n\t\t\t\tif (source.side.removeSideCondition(sideCondition)) {\r\n\t\t\t\t\tthis.add('-sideend', source.side, this.dex.conditions.get(sideCondition).name, '[from] move: Defog', `[of] ${source}`);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.field.clearTerrain();\r\n\t\t\treturn success;\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Flying\",\r\n\t\tzMove: { boost: { accuracy: 1 } },\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tknockoff: {\r\n\t\tnum: 282,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 65,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Knock Off\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: { contact: 1, protect: 1, mirror: 1, metronome: 1 },\r\n\t\tonBasePower(basePower, source, target, move) {\r\n\t\t\tconst item = target.getItem();\r\n\t\t\tif (!target.item || target.itemState.knockedOff) return;\r\n\t\t\tif (item.id) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterHit(target, source, move) {\r\n\t\t\tif (!target.item || target.itemState.knockedOff) return;\r\n\t\t\tif (target.ability === 'multitype') return;\r\n\t\t\tconst item = target.getItem();\r\n\t\t\t\r\n\t\t\tif (item.id === 'toxicorb' && target.status === 'tox') {\r\n\t\t\t\tthis.add('-curestatus', target, 'tox', `[from] move: ${move}`);\r\n\t\t\t\ttarget.clearStatus();\r\n\t\t\t\tthis.hint(\"In Flucient Platinum, knocking off a Toxic Orb cures their status.\", true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.runEvent('TakeItem', target, source, move, item)) {\r\n\t\t\t\ttarget.itemState.knockedOff = true;\r\n\t\t\t\tthis.add('-enditem', target, item.name, '[from] move: Knock Off', `[of] ${source}`);\r\n\t\t\t\tthis.hint(\"In Gens 3-4, Knock Off only makes the target's item unusable; it cannot obtain a new item.\", true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Dark\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\trest: {\r\n\t\tinherit: true,\r\n\t\tonHit(target, source, move) {\r\n\t\t\tconst result = target.setStatus('slp', source, move);\r\n\t\t\tif (!result) return result;\r\n\t\t\ttarget.statusState.time = 3;\r\n\t\t\ttarget.statusState.startTime = 3;\r\n\t\t\tthis.heal(target.maxhp); // Aesthetic only as the healing happens after you fall asleep in-game\r\n\t\t\ttarget.addVolatile(\"restflag\");\r\n\t\t},\r\n\t},\r\n\tdoubleslap: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 20,\r\n\t},\r\n\tpoisonsting: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 35,\r\n\t\tpp: 20,\r\n\t},\r\n\tpinmissile: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 25,\r\n\t},\r\n\tflamethrower: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\tvinewhip: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 45,\r\n\t\tpp: 25,\r\n\t},\r\n\ttackle: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 40,\r\n\t},\r\n\twrap: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 35,\r\n\t},\r\n\tthrash: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 120,\r\n\t\tpp: 10,\r\n\t},\r\n\thydropump: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 110,\r\n\t},\r\n\tsurf: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\ticebeam: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\tsubmission: {\r\n\t\tinherit: true,\r\n\t\tpp: 20,\r\n\t},\r\n\tabsorb: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 30,\r\n\t},\r\n\tmegadrain: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\tpp: 10,\r\n\t},\r\n\tpetaldance: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 120,\r\n\t\tpp: 10,\r\n\t},\r\n\tfirespin: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 35,\r\n\t},\r\n\tthunderbolt: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\ttoxic: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t},\r\n\tfireblast: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 110,\r\n\t},\r\n\tclamp: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tpp: 15,\r\n\t},\r\n\tskullbash: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 130,\r\n\t\tpp: 10,\r\n\t},\r\n\thighjumpkick: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 130,\r\n\t\tpp: 10,\r\n\t\tonMoveFail(target, source, move) {\r\n\t\t\tthis.damage(source.baseMaxhp / 2, source, source, this.dex.conditions.get('High Jump Kick'));\r\n\t\t},\r\n\t},\r\n\tglare: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t},\r\n\tpoisongas: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\ttarget: \"allAdjacentFoes\",\r\n\t},\r\n\tleechlife: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 80,\r\n\t\tpp: 10,\r\n\t},\r\n\tcrabhammer: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 100,\r\n\t},\r\n\tsnore: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\tflags: { protect: 1, mirror: 1, sound: 1, metronome: 1 },\r\n\t},\r\n\toctazooka: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 100,\r\n\t\tcritRatio: 2,\r\n\t\tsecondary: {},\r\n\t},\r\n\tbonerush: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t},\r\n\tgigadrain: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 80,\r\n\t},\r\n\tendure: {\r\n\t\tinherit: true,\r\n\t\tpriority: 4,\r\n\t},\r\n\tfalseswipe: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t},\r\n\tfurycutter: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 30,\r\n\t\tcondition: {\r\n\t\t\tduration: 2,\r\n\t\t\tonStart() {\r\n\t\t\t\tthis.effectState.multiplier = 1;\r\n\t\t\t},\r\n\t\t\tonRestart() {\r\n\t\t\t\tif (this.effectState.multiplier < 16) {\r\n\t\t\t\t\tthis.effectState.multiplier <<= 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.duration = 2;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tpresent: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tconst rand = this.random(10);\r\n\t\t\tif (rand < 2) {\r\n\t\t\t\tmove.heal = [1, 4];\r\n\t\t\t\tmove.infiltrates = true;\r\n\t\t\t} else if (rand < 6) {\r\n\t\t\t\tmove.basePower = 40;\r\n\t\t\t} else if (rand < 9) {\r\n\t\t\t\tmove.basePower = 80;\r\n\t\t\t} else {\r\n\t\t\t\tmove.basePower = 150;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttype: \"Ice\",\r\n\t},\r\n\textremespeed: {\r\n\t\tinherit: true,\r\n\t\tpriority: 2,\r\n\t},\r\n\tfuturesight: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 120,\r\n\t\tpp: 10,\r\n\t\tonTry(source, target) {\r\n\t\t\tif (!target.side.addSlotCondition(target, 'futuremove')) return false;\r\n\t\t\tObject.assign(target.side.slotConditions[target.position]['futuremove'], {\r\n\t\t\t\tmove: 'futuresight',\r\n\t\t\t\tsource,\r\n\t\t\t\tmoveData: {\r\n\t\t\t\t\tid: 'futuresight',\r\n\t\t\t\t\tname: \"Future Sight\",\r\n\t\t\t\t\taccuracy: 100,\r\n\t\t\t\t\tbasePower: 120,\r\n\t\t\t\t\tcategory: \"Special\",\r\n\t\t\t\t\tpriority: 0,\r\n\t\t\t\t\tflags: { allyanim: 1, metronome: 1, futuremove: 1 },\r\n\t\t\t\t\tignoreImmunity: false,\r\n\t\t\t\t\teffectType: 'Move',\r\n\t\t\t\t\ttype: 'Psychic',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tthis.add('-start', source, 'move: Future Sight');\r\n\t\t\treturn this.NOT_FAIL;\r\n\t\t},\r\n\t},\r\n\tbeatup: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 15,\r\n\t\tpp: 5,\r\n\t\tflags: { protect: 1, mirror: 1, allyanim: 1, metronome: 1, punch: 1 },\r\n\t\tbasePowerCallback(pokemon, target, move) {\r\n\t\t\tif (!move.allies?.length) return null;\r\n\t\t\treturn 15;\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tpokemon.addVolatile('beatup');\r\n\t\t\tmove.type = 'Dark';\r\n\t\t\tmove.category = 'Physical';\r\n\t\t\tmove.allies = pokemon.side.pokemon.filter(ally => !ally.fainted && !ally.status);\r\n\t\t\tmove.multihit = move.allies.length;\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonModifyAtkPriority: -101,\r\n\t\t\tonModifyAtk(atk, pokemon, defender, move) {\r\n\t\t\t\t// https://www.smogon.com/forums/posts/8992145/\r\n\t\t\t\t// this.add('-activate', pokemon, 'move: Beat Up', '[of] ' + move.allies![0].name);\r\n\t\t\t\tthis.event.modifier = 1;\r\n\t\t\t\tconst attacker = move.allies!.shift()!;\r\n\t\t\t\tlet attackStat = attacker.getStat('atk', false, true);\r\n\t\t\t\tconst boostTable = [1, 1.5, 2, 2.5, 3, 3.5, 4];\r\n\t\t\t\tlet boost = pokemon.boosts['atk'];\r\n\t\t\t\tif (boost > 6) boost = 6;\r\n\t\t\t\tif (boost < -6) boost = -6;\r\n\t\t\t\tif (boost >= 0) {\r\n\t\t\t\t\tattackStat = Math.floor(attackStat * boostTable[boost]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tattackStat = Math.floor(attackStat / boostTable[-boost]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tswitch (attacker.ability) {\r\n\t\t\t\tcase 'hugepower':\r\n\t\t\t\tcase 'purepower':\r\n\t\t\t\t\tattackStat *= 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'hustle':\r\n\t\t\t\tcase 'technician':\r\n\t\t\t\t\tattackStat = attackStat * 3 / 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'guts':\r\n\t\t\t\t\tif (ally.status === 'brn') {\r\n\t\t\t\t\t\tattackStat = attackStat * 3 / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'rivalry':\r\n\t\t\t\t\tif (attacker.gender && defender.gender) {\r\n\t\t\t\t\t\tif (attacker.gender === defender.gender) {\r\n\t\t\t\t\t\t\tattackStat = attackStat * 3 / 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ironfist':\r\n\t\t\t\t\tattackStat = attackStat * 13 / 10;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tswitch (attacker.item.id) {\r\n\t\t\t\tcase 'loadedgloves':\r\n\t\t\t\t\tattackStat = attackStat * 6 / 5;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'choiceband':\r\n\t\t\t\t\tattackStat = attackStat * 3 / 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'blackglasses':\r\n\t\t\t\tcase 'dreadplate':\r\n\t\t\t\t\tattackStat = attackStat * 12 / 10;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'muscleband':\r\n\t\t\t\t\tattackStat = attackStat * 11 / 10;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn attackStat;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tuproar: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\tcondition: {\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'Uproar');\r\n\t\t\t\t// 3-6 turns\r\n\t\t\t\tthis.effectState.duration = this.random(3, 7);\r\n\t\t\t},\r\n\t\t\tonResidual(target) {\r\n\t\t\t\tif (target.volatiles['throatchop']) {\r\n\t\t\t\t\ttarget.removeVolatile('uproar');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.lastMove && target.lastMove.id === 'struggle' && target.lastMove.id === 'tossandturn') {\r\n\t\t\t\t\t// don't lock\r\n\t\t\t\t\tdelete target.volatiles['uproar'];\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-start', target, 'Uproar', '[upkeep]');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 11,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Uproar');\r\n\t\t\t},\r\n\t\t\tonLockMove: 'uproar',\r\n\t\t\tonAnySetStatus(status, pokemon) {\r\n\t\t\t\tif (status.id === 'slp') {\r\n\t\t\t\t\tif (pokemon === this.effectState.target) {\r\n\t\t\t\t\t\tthis.add('-fail', pokemon, 'slp', '[from] Uproar', '[msg]');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-fail', pokemon, 'slp', '[from] Uproar');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\theatwave: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 95,\r\n\t},\r\n\twillowisp: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t},\r\n\twhirlpool: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 35,\r\n\t},\r\n\tfollowme: {\r\n\t\tinherit: true,\r\n\t\tpriority: 2,\r\n\t},\r\n\tarmthrust: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 25,\r\n\t},\r\n\tlusterpurge: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 95,\r\n\t},\r\n\tmistball: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 95,\r\n\t},\r\n\tmeteormash: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 90,\r\n\t},\r\n\tastonish: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 40,\r\n\t},\r\n\taircutter: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t},\r\n\toverheat: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 130,\r\n\t},\r\n\trocktomb: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 60,\r\n\t\tpp: 15,\r\n\t},\r\n\tsandtomb: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 35,\r\n\t},\r\n\tmuddywater: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\tbulletseed: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 25,\r\n\t},\r\n\ticiclespear: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 25,\r\n\t},\r\n\tbounce: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t\tbasePower: 95,\r\n\t},\r\n\tpoisontail: {\r\n\t\tnum: 342,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 70,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Poison Tail\",\r\n\t\tpp: 25,\r\n\t\tpriority: 0,\r\n\t\tflags: { contact: 1, protect: 1, mirror: 1, metronome: 1 },\r\n\t\tsecondary: {\r\n\t\t\tchance: 30,\r\n\t\t\tstatus: 'tox',\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Poison\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tcovet: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\tpp: 25,\r\n\t},\r\n\tdoomdesire: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 160,\r\n\t\tonTry(source, target) {\r\n\t\t\tif (!target.side.addSlotCondition(target, 'futuremove')) return false;\r\n\t\t\tObject.assign(target.side.slotConditions[target.position]['futuremove'], {\r\n\t\t\t\tmove: 'doomdesire',\r\n\t\t\t\tsource,\r\n\t\t\t\tmoveData: {\r\n\t\t\t\t\tid: 'doomdesire',\r\n\t\t\t\t\tname: \"Doom Desire\",\r\n\t\t\t\t\taccuracy: 100,\r\n\t\t\t\t\tbasePower: 140,\r\n\t\t\t\t\tcategory: \"Special\",\r\n\t\t\t\t\tpriority: 0,\r\n\t\t\t\t\tflags: { metronome: 1, futuremove: 1 },\r\n\t\t\t\t\teffectType: 'Move',\r\n\t\t\t\t\ttype: 'Steel',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tthis.add('-start', source, 'Doom Desire');\r\n\t\t\treturn this.NOT_FAIL;\r\n\t\t},\r\n\t},\r\n\twakeupslap: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 70,\r\n\t},\r\n\taurasphere: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 95,\r\n\t\tpp: 10,\r\n\t},\r\n\twavecrash: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 110,\r\n\t},\r\n\tairslash: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t\tpp: 15,\r\n\t},\r\n\tpowergem: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 80,\r\n\t},\r\n\tdrainpunch: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 75,\r\n\t\tpp: 10,\r\n\t},\r\n\tenergyball: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 90,\r\n\t},\r\n\trockclimb: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 70,\r\n\t\tsecondary: {\r\n\t\t\tchance: 10,\r\n\t\t\tvolatileStatus: 'flinch',\r\n\t\t},\r\n\t\ttype: \"Rock\",\r\n\t},\r\n\tdracometeor: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 130,\r\n\t},\r\n\tleafstorm: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 130,\r\n\t},\r\n\tchatter: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 70,\r\n\t\tsecondary: {\r\n\t\t\tchance: 31,\r\n\t\t\tvolatileStatus: 'confusion',\r\n\t\t},\r\n\t},\r\n\tdarkvoid: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 50,\r\n\t},\r\n\trocksmash: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t},\r\n\taeroblast: {\r\n\t\tnum: 177,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 100,\r\n\t\tcategory: \"Special\",\r\n\t\tname: \"Aeroblast\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: { protect: 1, mirror: 1, distance: 1, metronome: 1, wind: 1 },\r\n\t\tdrain: [1, 2],\r\n\t\tsecondary: null,\r\n\t\ttarget: \"any\",\r\n\t\ttype: \"Flying\",\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\tspiderweb: {\r\n\t\tnum: 169,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 70,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Spider Web\",\r\n\t\tpp: 10,\r\n\t\tpriority: 0,\r\n\t\tflags: { contact: 1, protect: 1, mirror: 1, metronome: 1 },\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tself: {\r\n\t\t\t\tboosts: {\r\n\t\t\t\t\tdef: 1,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Bug\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tchargebeam: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t\tbasePower: 60,\r\n\t\tpp: 15,\r\n\t\tsecondary: {\r\n\t\t\tchance: 100,\r\n\t\t\tself: {\r\n\t\t\t\tboosts: {\r\n\t\t\t\t\tspa: 1,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tgunkshot: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 80,\r\n\t},\r\n\tpoisonfang: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\tsecondary: {\r\n\t\t\tchance: 50,\r\n\t\t\tstatus: 'tox',\r\n\t\t},\r\n\t},\r\n\tmagmastorm: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 75,\r\n\t\tbasePower: 100,\r\n\t},\r\n\tfacade: {\r\n\t\tinherit: true,\r\n\t\tonBasePower(basePower, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstringshot: {\r\n\t\tinherit: true,\r\n\t\tboosts: {\r\n\t\t\tspe: -2,\r\n\t\t},\r\n\t},\r\n\tteleport: {\r\n\t\tnum: 100,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 0,\r\n\t\tcategory: \"Status\",\r\n\t\tname: \"Teleport\",\r\n\t\tpp: 20,\r\n\t\tpriority: 0,\r\n\t\tflags: { metronome: 1 },\r\n\t\tonTry(source) {\r\n\t\t\treturn !!this.canSwitch(source.side);\r\n\t\t},\r\n\t\tselfSwitch: true,\r\n\t\tsecondary: null,\r\n\t\ttarget: \"self\",\r\n\t\ttype: \"Psychic\",\r\n\t\tzMove: { effect: 'heal' },\r\n\t\tcontestType: \"Cool\",\r\n\t},\r\n\troaroftime: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 200,\r\n\t},\r\n\tfocuspunch: {\r\n\t\tinherit: true,\r\n\t\taccuracy: true,\r\n\t\tbasePower: 160,\r\n\t\tpriorityChargeCallback() {},\r\n\t\tbeforeTurnCallback(pokemon) {\r\n\t\t\tpokemon.addVolatile('focuspunch');\r\n\t\t},\r\n\t\tbeforeMoveCallback() {},\r\n\t\tonTry(pokemon) {\r\n\t\t\tif (pokemon.volatiles['focuspunch']?.lostFocus) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', pokemon, 'Focus Punch', 'Focus Punch');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tspore: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t},\r\n\thiddenpower: {\r\n\t\tnum: 237,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tcategory: \"Special\",\r\n\t\tisNonstandard: \"Past\",\r\n\t\tname: \"Hidden Power\",\r\n\t\tpp: 15,\r\n\t\tpriority: 0,\r\n\t\tflags: { protect: 1, mirror: 1, metronome: 1 },\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tmove.type = pokemon.hpType || 'Dark';\r\n\t\t},\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tselfdestruct: {\r\n\t\tnum: 120,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 200,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Self-Destruct\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: { protect: 1, mirror: 1, metronome: 1, noparentalbond: 1 },\r\n\t\tselfdestruct: \"always\",\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacent\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\texplosion: {\r\n\t\tnum: 153,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 250,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Explosion\",\r\n\t\tpp: 5,\r\n\t\tpriority: 0,\r\n\t\tflags: { protect: 1, mirror: 1, metronome: 1, noparentalbond: 1 },\r\n\t\tselfdestruct: \"always\",\r\n\t\tsecondary: null,\r\n\t\ttarget: \"allAdjacent\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Beautiful\",\r\n\t},\r\n\troost: {\r\n\t\tinherit: true,\r\n\t\tpp: 5,\r\n\t},\r\n\tslackoff: {\r\n\t\tinherit: true,\r\n\t\tpp: 5,\r\n\t},\r\n\tweatherball: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t\ttype: \"Flying\",\r\n\t},\r\n\tmagnetrise: {\r\n\t\tinherit: true,\r\n\t\tflags: { gravity: 1, metronome: 1 },\r\n\t\tvolatileStatus: 'magnetrise',\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (pokemon.hasAbility('magnetpull')) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Magnet Pull');\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tconst source = this.effectState.source;\r\n\t\t\t\tif (source !== target && !(target.hasType('Rock') || target.hasType('Electric') || target.hasType('Steel'))) return false;\r\n\t\t\t\tif (target.volatiles['ingrain'] || target.ability === 'levitate') return false;\r\n\t\t\t\tthis.add('-start', target, 'Magnet Rise');\r\n\t\t\t},\r\n\t\t\tonImmunity(type) {\r\n\t\t\t\tif (type === 'Ground') return false;\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 16,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Magnet Rise');\r\n\t\t\t},\r\n\t\t},\r\n\t\ttarget: \"allies\",\r\n\t},\r\n\tmeditate: {\r\n\t\tinherit: true,\r\n\t\tvolatileStatus: 'meditate',\r\n\t\tcondition: {\r\n\t\t\tonStart(target, source, effect) {\r\n\t\t\t\tif (effect && (['costar', 'imposter', 'psychup', 'transform'].includes(effect.id))) {\r\n\t\t\t\t\tthis.add('-start', target, 'move: Meditate', '[silent]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-start', target, 'move: Meditate');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifyCritRatio(critRatio) {\r\n\t\t\t\treturn critRatio + 1;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcrosspoison: {\r\n\t\tinherit: true,\r\n\t\tsecondary: {\r\n\t\t\tchance: 30,\r\n\t\t\tstatus: 'psn',\r\n\t\t},\r\n\t},\r\n\tspikecannon: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 15,\r\n\t\tpp: 10,\r\n\t\tonAfterMove(pokemon, target, move) {\r\n\t\t\tif (!move.hasSheerForce && pokemon.hp) {\r\n\t\t\t\tfor (const side of pokemon.side.foeSidesWithConditions()) {\r\n\t\t\t\t\tside.addSideCondition('spikes');\r\n\t\t\t\t\tif (move.multihit === 5) {\r\n\t\t\t\t\t\tside.addSideCondition('spikes');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tjudgment: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 120,\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (pokemon.getStat('atk', false, true) > pokemon.getStat('spa', false, true)) {\r\n\t\t\t\tmove.category = 'Physical';\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thowl: {\r\n\t\tinherit: true,\r\n\t\tflags: { snatch: 1, sound: 1, metronome: 1 },\r\n\t\tboosts: {\r\n\t\t\tatk: 1,\r\n\t\t},\r\n\t\ttarget: \"allies\",\r\n\t},\r\n\tsolarbeam: {\r\n\t\tinherit: true,\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (attacker.removeVolatile(move.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-prepare', attacker, move.name);\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(attacker.effectiveWeather())) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.addMove('-anim', attacker, move.name, defender);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!this.runEvent('ChargeMove', attacker, defender, move)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tattacker.addVolatile('twoturnmove', defender);\r\n\t\t\tthis.boost({ spa: 1 }, attacker);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\tstickyweb: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tonSideStart(side) {\r\n\t\t\t\tthis.add('-sidestart', side, 'move: Sticky Web');\r\n\t\t\t},\r\n\t\t\tonSwitchIn(pokemon) {\r\n\t\t\t\tif (!pokemon.isGrounded() || pokemon.hasItem('heavydutyboots') || pokemon.hasAbility('webmaster')) return;\r\n\t\t\t\tthis.add('-activate', pokemon, 'move: Sticky Web');\r\n\t\t\t\tthis.boost({ spe: -1 }, pokemon, pokemon.side.foe.active[0], this.dex.getActiveMove('stickyweb'));\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\ttailwind: {\r\n\t\tinherit: true,\r\n\t\tpp: 15,\r\n\t\tcondition: {\r\n\t\t\tduration: 4,\r\n\t\t\tdurationCallback(target, source, effect) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-activate', source, 'ability: Persistent', '[move] Tailwind');\r\n\t\t\t\t\treturn 5;\r\n\t\t\t\t}\r\n\t\t\t\treturn 4;\r\n\t\t\t},\r\n\t\t\tonSideStart(side, source) {\r\n\t\t\t\tif (source?.hasAbility('persistent')) {\r\n\t\t\t\t\tthis.add('-sidestart', side, 'move: Tailwind', '[persistent]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-sidestart', side, 'move: Tailwind');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe) {\r\n\t\t\t\treturn spe * 2;\r\n\t\t\t},\r\n\t\t\tonSideResidualOrder: 5,\r\n\t\t\tonSideEnd(side) {\r\n\t\t\t\tthis.add('-sideend', side, 'move: Tailwind');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tfakeout: {\r\n\t\tinherit: true,\r\n\t\tpriority: 3,\r\n\t},\r\n\tbatonpass: {\r\n\t\tinherit: true,\r\n\t\tpp: 20,\r\n\t},\r\n\ttriplekick: {\r\n\t\tinherit: true,\r\n\t\tpp: 20,\r\n\t},\r\n\tsacredfire: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t},\r\n\tdetect: {\r\n\t\tinherit: true,\r\n\t\tpriority: 4,\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-singleturn', target, 'Protect');\r\n\t\t\t},\r\n\t\t\tonTryHitPriority: 3,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (!move.flags['protect']) return;\r\n\t\t\t\tthis.add('-activate', target, 'Protect');\r\n\t\t\t\tconst lockedmove = source.getVolatile('lockedmove');\r\n\t\t\t\tif (lockedmove) {\r\n\t\t\t\t\t// Outrage counter is NOT reset\r\n\t\t\t\t\tif (source.volatiles['lockedmove'].trueDuration >= 2) {\r\n\t\t\t\t\t\tsource.volatiles['lockedmove'].duration = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tprotect: {\r\n\t\tinherit: true,\r\n\t\tpriority: 4,\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-singleturn', target, 'Protect');\r\n\t\t\t},\r\n\t\t\tonTryHitPriority: 3,\r\n\t\t\tonTryHit(target, source, move) {\r\n\t\t\t\tif (!move.flags['protect']) return;\r\n\t\t\t\tthis.add('-activate', target, 'Protect');\r\n\t\t\t\tconst lockedmove = source.getVolatile('lockedmove');\r\n\t\t\t\tif (lockedmove) {\r\n\t\t\t\t\t// Outrage counter is NOT reset\r\n\t\t\t\t\tif (source.volatiles['lockedmove'].trueDuration >= 2) {\r\n\t\t\t\t\t\tsource.volatiles['lockedmove'].duration = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tblock: {\r\n\t\tinherit: true,\r\n\t\tflags: { reflectable: 1, mirror: 1, metronome: 1 },\r\n\t},\r\n\twaterspout: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 140,\r\n\t},\r\n\trockblast: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 90,\r\n\t},\r\n\tdestinybond: {\r\n\t\tinherit: true,\r\n\t\tonPrepareHit(pokemon) {\r\n\t\t\treturn !pokemon.removeVolatile('destinybond');\r\n\t\t},\r\n\t},\r\n\tfeint: {\r\n\t\tnum: 364,\r\n\t\taccuracy: 100,\r\n\t\tbasePower: 60,\r\n\t\tcategory: \"Physical\",\r\n\t\tname: \"Feint\",\r\n\t\tpp: 10,\r\n\t\tpriority: 2,\r\n\t\tflags: { mirror: 1, noassist: 1, failcopycat: 1 },\r\n\t\tonBasePower(basePower, pokemon) {\r\n\t\t\tif (target.volatiles['protect']) {\r\n\t\t\t\tthis.debug('double power');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tbreaksProtect: true,\r\n\t\t// Breaking protection implemented in scripts.js\r\n\t\tsecondary: null,\r\n\t\ttarget: \"normal\",\r\n\t\ttype: \"Normal\",\r\n\t\tcontestType: \"Clever\",\r\n\t},\r\n\tassurance: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 60,\r\n\t},\r\n\ttaunt: {\r\n\t\tinherit: true,\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t\tcondition: {\r\n\t\t\tdurationCallback() {\r\n\t\t\t\treturn 4;\r\n\t\t\t},\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'move: Taunt');\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 10,\r\n\t\t\tonResidualSubOrder: 15,\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'move: Taunt');\r\n\t\t\t},\r\n\t\t\tonDisableMove(pokemon) {\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tif (this.dex.moves.get(moveSlot.id).category === 'Status') {\r\n\t\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBeforeMovePriority: 5,\r\n\t\t\tonBeforeMove(attacker, defender, move) {\r\n\t\t\t\tif (move.category === 'Status') {\r\n\t\t\t\t\tthis.add('cant', attacker, 'move: Taunt', move);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcrushgrip: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tconst bp = Math.floor(target.hp * 160 / target.maxhp) + 1;\r\n\t\t\tthis.debug(`BP for ${target.hp}/${target.maxhp} HP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tscaryface: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 100,\r\n\t},\r\n\tlowkick: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tconst targetWeight = target.getWeight();\r\n\t\t\tlet bp;\r\n\t\t\tif (targetWeight >= 2000) {\r\n\t\t\t\tbp = 150;\r\n\t\t\t} else if (targetWeight >= 1000) {\r\n\t\t\t\tbp = 100;\r\n\t\t\t} else if (targetWeight >= 500) {\r\n\t\t\t\tbp = 80;\r\n\t\t\t} else if (targetWeight >= 250) {\r\n\t\t\t\tbp = 60;\r\n\t\t\t} else if (targetWeight >= 100) {\r\n\t\t\t\tbp = 40;\r\n\t\t\t} else {\r\n\t\t\t\tbp = 20;\r\n\t\t\t}\r\n\t\t\tthis.debug(`BP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tgrassknot: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon, target) {\r\n\t\t\tconst targetWeight = target.getWeight();\r\n\t\t\tlet bp;\r\n\t\t\tif (targetWeight >= 2000) {\r\n\t\t\t\tbp = 150;\r\n\t\t\t} else if (targetWeight >= 1000) {\r\n\t\t\t\tbp = 100;\r\n\t\t\t} else if (targetWeight >= 500) {\r\n\t\t\t\tbp = 80;\r\n\t\t\t} else if (targetWeight >= 250) {\r\n\t\t\t\tbp = 60;\r\n\t\t\t} else if (targetWeight >= 100) {\r\n\t\t\t\tbp = 40;\r\n\t\t\t} else {\r\n\t\t\t\tbp = 20;\r\n\t\t\t}\r\n\t\t\tthis.debug(`BP: ${bp}`);\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tsteelwing: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tsecondary: {\r\n\t\t\tchance: 50,\r\n\t\t\tself: {\r\n\t\t\t\tboosts: {\r\n\t\t\t\t\tdef: 1,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tspitup: {\r\n\t\tinherit: true,\r\n\t\tbasePowerCallback(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['stockpile']?.layers) return false;\r\n\t\t\treturn pokemon.volatiles['stockpile'].layers * 120;\r\n\t\t},\r\n\t\tonAfterMove(pokemon) {\r\n\t\t\tthis.boost({ def: -1, spd: -1 }, pokemon, pokemon);\r\n\t\t\tpokemon.volatiles['stockpile'].layers -= 2;\r\n\t\t\tif (pokemon.volatiles['stockpile']?.layers <= 0) {\r\n\t\t\t\tpokemon.removeVolatile('stockpile');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-end', pokemon, 'Stockpile');\r\n\t\t\t\tthis.add('-start', pokemon, 'stockpile' + pokemon.volatiles['stockpile'].layers);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tswallow: {\r\n\t\tinherit: true,\r\n\t\tonTry(source) {\r\n\t\t\treturn !!source.volatiles['stockpile'];\r\n\t\t},\r\n\t\tonHit(pokemon) {\r\n\t\t\tconst layers = pokemon.volatiles['stockpile']?.layers || 1;\r\n\t\t\tconst healAmount = [0.25, 0.5, 1];\r\n\t\t\tconst success = !!this.heal(this.modify(pokemon.maxhp, healAmount[layers - 1]));\r\n\t\t\tif (!success) this.add('-fail', pokemon, 'heal');\r\n\t\t\tpokemon.volatiles['stockpile'].layers -= 2;\r\n\t\t\tif (pokemon.volatiles['stockpile']?.layers <= 0) {\r\n\t\t\t\tpokemon.removeVolatile('stockpile');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-end', pokemon, 'Stockpile');\r\n\t\t\t\tthis.add('-start', pokemon, 'stockpile' + pokemon.volatiles['stockpile'].layers);\r\n\t\t\t}\r\n\t\t\treturn success || this.NOT_FAIL;\r\n\t\t},\r\n\t},\r\n\tstockpile: {\r\n\t\tinherit: true,\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.effectState.layers = 1;\r\n\t\t\t\tthis.effectState.def = 0;\r\n\t\t\t\tthis.effectState.spd = 0;\r\n\t\t\t\tthis.add('-start', target, 'stockpile' + this.effectState.layers);\r\n\t\t\t\tconst [curDef, curSpD] = [target.boosts.def, target.boosts.spd];\r\n\t\t\t\tthis.boost({ def: 1, spd: 1 }, target, target);\r\n\t\t\t\tif (curDef !== target.boosts.def) this.effectState.def--;\r\n\t\t\t\tif (curSpD !== target.boosts.spd) this.effectState.spd--;\r\n\t\t\t},\r\n\t\t\tonRestart(target) {\r\n\t\t\t\tif (this.effectState.layers >= 3) return false;\r\n\t\t\t\tthis.effectState.layers++;\r\n\t\t\t\tthis.add('-start', target, 'stockpile' + this.effectState.layers);\r\n\t\t\t\tconst curDef = target.boosts.def;\r\n\t\t\t\tconst curSpD = target.boosts.spd;\r\n\t\t\t\tthis.boost({ def: 1, spd: 1 }, target, target);\r\n\t\t\t\tif (curDef !== target.boosts.def) this.effectState.def--;\r\n\t\t\t\tif (curSpD !== target.boosts.spd) this.effectState.spd--;\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Stockpile');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tbrickbreak: {\r\n\t\tinherit: true,\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\t// will shatter screens through sub, before you hit\r\n\t\t\tmove.basePower = move.basePower * 3 / 2;\r\n\t\t\tpokemon.side.removeSideCondition('reflect');\r\n\t\t\tpokemon.side.removeSideCondition('lightscreen');\r\n\t\t\tpokemon.side.removeSideCondition('auroraveil');\r\n\t\t},\r\n\t},\r\n\teggbomb: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 85,\r\n\t},\r\n\tdig: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 100,\r\n\t},\r\n\tdive: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 100,\r\n\t},\r\n\tfly: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 110,\r\n\t},\r\n\tshadowforce: {\r\n\t\tinherit: true,\r\n\t\taccuracy: 95,\r\n\t\tbasePower: 130,\r\n\t},\r\n\tdreameater: {\r\n\t\tinherit: true,\r\n\t\tbasePower: 160,\r\n\t\tonTryImmunity(target) {\r\n\t\t\treturn target.status === 'slp' && !target.volatiles['substitute'];\r\n\t\t},\r\n\t},\r\n\tspite: {\r\n\t\tinherit: true,\r\n\t\tonHit(target) {\r\n\t\t\tlet move: Move | ActiveMove | null = target.lastMove;\r\n\t\t\tif (!move || move.isZ) return false;\r\n\t\t\tif (move.isMax && move.baseMove) move = this.dex.moves.get(move.baseMove);\r\n\r\n\t\t\tconst ppDeducted = target.deductPP(move.id, this.random(4, 7));\r\n\t\t\tif (!ppDeducted) return false;\r\n\t\t\tthis.add(\"-activate\", target, 'move: Spite', move.name, ppDeducted);\r\n\t\t},\r\n\t\tflags: { protect: 1, mirror: 1, bypasssub: 1, metronome: 1 },\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": ["target", "ally", "type"]
}
